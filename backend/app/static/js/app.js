async function sendQuery(){const text=document.getElementById('query').value;const res=await fetch('/api/neurosync/query',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({text})});const data=await res.json();document.getElementById('reply').textContent=JSON.stringify(data,null,2)}
async function createTask(){const title=document.getElementById('task-title').value;const energy=document.getElementById('task-energy').value;const duration_min=parseInt(document.getElementById('task-duration').value||'30');const res=await fetch('/api/tasks/create',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({title,energy,duration_min,depends_on:[]})});const data=await res.json();document.getElementById('tasks').textContent=JSON.stringify(data,null,2)}
async function prioritize(){const res=await fetch('/api/tasks/prioritize');document.getElementById('tasks').textContent=JSON.stringify(await res.json(),null,2)}
async function addNode(){const label=document.getElementById('node-label').value;const type=document.getElementById('node-type').value;await fetch('/api/knowledge/node',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({type,label})});const g=await (await fetch('/api/knowledge/graph')).json();document.getElementById('graph').textContent=JSON.stringify(g,null,2)}
async function suggest(){const algo=document.getElementById('algo').value;const r=await fetch(`/api/scheduler/suggest?algorithm=${algo}`);document.getElementById('blocks').textContent=JSON.stringify(await r.json(),null,2)}
async function healthProductivity(){const payload={health:{hrv:70,sleep_hours:7.5,activity_minutes:40},productivity:{deep_work_hours:2.5,tasks_completed:5}};const r=await fetch('/api/insights/cross',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});document.getElementById('insights').textContent=JSON.stringify(await r.json(),null,2)}
async function learningFinance(){const payload={finance:{learning_hours:1.2,savings_rate:0.25}};const r=await fetch('/api/insights/learning_financial_impact',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});document.getElementById('insights').textContent=JSON.stringify(await r.json(),null,2)}
